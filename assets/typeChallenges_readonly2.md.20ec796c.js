import{o as n,c as s,d as a}from"./app.437d6b62.js";const o='{"title":"按需Readonly","description":"","frontmatter":{},"headers":[{"level":3,"title":"按需Readonly","slug":"按需readonly"}],"relativePath":"typeChallenges/readonly2.md","lastUpdated":1697186139655}',t={},p=a('<h3 id="按需readonly"><a class="header-anchor" href="#按需readonly" aria-hidden="true">#</a> 按需Readonly</h3><div class="language-javascript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>\n  title<span class="token operator">:</span> string\n  description<span class="token operator">:</span> string\n  completed<span class="token operator">:</span> boolean\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> todo<span class="token operator">:</span> MyReadonly2<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;description&#39;</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  title<span class="token operator">:</span> <span class="token string">&quot;Hey&quot;</span><span class="token punctuation">,</span>\n  description<span class="token operator">:</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">,</span>\n  completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\ntodo<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span> <span class="token comment">// Error: cannot reassign a readonly property</span>\ntodo<span class="token punctuation">.</span>description <span class="token operator">=</span> <span class="token string">&quot;barFoo&quot;</span> <span class="token comment">// Error: cannot reassign a readonly property</span>\ntodo<span class="token punctuation">.</span>completed <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// OK</span>\n</code></pre></div><div class="language-javascript"><pre><code>type MyReadonly2<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> keyof <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>\n  readonly <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><ul><li><p><code>K extends keyof T = keyof T</code> : 如果传递了<code>K</code>, 则只能是<code>T</code>中存在的属性，如果没有传递<code>K</code>, 则默认为 <code>keyof T</code>, 全部属性为只读</p></li><li><p><code>T &amp; U</code> : 表示将<code>T</code>和<code>U</code>中的字段结合起来</p></li></ul>',4);t.render=function(a,o,t,e,c,l){return n(),s("div",null,[p])};export default t;export{o as __pageData};
